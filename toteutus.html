<!doctype html>
<html lang="fi">
<head>
  <meta charset="utf-8">
  <title>Toteutuksen tiedot (JSON)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Sama tyyli kuin muilla sivuilla -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body>

  <!-- Ylävalikko -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container">
      <a class="navbar-brand" href="./"><b>JSON & Fetch API</b></a>
      <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="nav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="json.html">Oma tietue</a></li>
          <li class="nav-item"><a class="nav-link active" href="toteutus.html">Toteutus JSON</a></li>
          <li class="nav-item"><a class="nav-link" href="pokemon.html">Poke haku</a></li>
          <li class="nav-item"><a class="nav-link" href="saa.html">Sää Helsinki</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Sisältö -->
  <main class="container">
    <div class="card p-4">
      <h1>Toteutus (JSON → sivulle)</h1>
      <p>Tässä haetaan toinen oma JSON, jossa on toteutuksen perustiedot.</p>

      <!-- Tänne tulokset -->
      <div id="content">Ladataan...</div>
    </div>
  </main>

  <footer class="container text-muted py-4">
    © 2025 – JSON tehtävä
  </footer>

  <script>
  // Haetaan toteutus.json data-kansiosta
  fetch('data/toteutus.json')
    .then(r => r.json()) // muutetaan JS-olioksi
    .then(obj => {
      // Muodostetaan yksinkertainen html
      const lista = obj.osallistujat.map(n => `<li>${n}</li>`).join('');

      const html = `
        <img src="${obj.kuva}" alt="Kuva" class="img-fluid mb-3">
        <h2>${obj.toteutus_nimi}</h2>
        <p><b>Osallistujia:</b> ${obj.osallistujia}</p>
        <p><b>Aika:</b> ${obj.alku} – ${obj.loppu} (${obj.kesto_viikkoina} viikkoa)</p>
        <h3>Osallistujat</h3>
        <ul>${lista}</ul>
      `;

      document.getElementById('content').innerHTML = html;
    })
    .catch(err => {
      // Näytetään virhe jos haku ei onnistu
      document.getElementById('content').innerHTML = "Tietoa ei pystytä hakemaan.";
      console.error(err);
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
